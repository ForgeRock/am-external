<!--
   DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS HEADER.
  
   Copyright (c) 2007 Sun Microsystems Inc. All Rights Reserved
  
   The contents of this file are subject to the terms
   of the Common Development and Distribution License
   (the License). You may not use this file except in
   compliance with the License.
                                                                                                                                  
   You can obtain a copy of the License at
   https://opensso.dev.java.net/public/CDDLv1.0.html or
   opensso/legal/CDDLv1.0.txt
   See the License for the specific language governing
   permission and limitations under the License.
                                                                                                                                  
   When distributing Covered Code, include this CDDL
   Header Notice in each file and include the License file
   at opensso/legal/CDDLv1.0.txt.
   If applicable, add the following below the CDDL Header,
   with the fields enclosed by brackets [] replaced by
   your own identifying information:
   "Portions Copyrighted [year] [name of copyright owner]"

   $Id: index.html,v 1.6 2008/08/19 19:12:14 veiming Exp $ 

-->
<html>
<head>
<title>Multi-Federation Protocol Sample</title>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
<link rel="stylesheet" type="text/css" href="../../com_sun_web_ui/css/css_ns6up.css" />
</head>
<body class="DefBdy">
                                                                                
<div class="MstDiv"><table width="100%" border="0" cellpadding="0" cellspacing="0" class="MstTblTop" title="">
<tbody><tr>
<td nowrap="nowrap">&nbsp;</td>
<td nowrap="nowrap">&nbsp;</td>
</tr></tbody></table>
                                                                                
<table width="100%" border="0" cellpadding="0" cellspacing="0" class="MstTblBot" title="">
<tbody><tr>
<td class="MstTdTtl" width="99%">
<div class="MstDivTtl"><img name="ProdName" src="../../console/images/PrimaryProductName.png" alt="" /></div></td><td class="MstTdLogo" width="1%"><img name="RMRealm.mhCommon.BrandLogo" src="../../com_sun_web_ui/images/other/javalogo.gif" alt="Java(TM) Logo" border="0" height="55" width="31" /></td></tr></tbody></table>
<table class="MstTblEnd" border="0" cellpadding="0" cellspacing="0" width="100%"><tbody><tr><td><img name="RMRealm.mhCommon.EndorserLogo" src="../../com_sun_web_ui/images/masthead/masthead-sunname.gif" alt="Sun(TM) Microsystems, Inc." align="right" border="0" height="10" width="108" /></td></tr></tbody></table></div><div class="SkpMedGry1"><a name="SkipAnchor2089" id="SkipAnchor2089"></a></div>
<div class="SkpMedGry1"><a href="#SkipAnchor4928"><img src="../../com_sun_web_ui/images/other/dot.gif" alt="Jump Over Tab Navigation Area. Current Selection is: Access Control" border="0" height="1" width="1" /></a></div>
                                                                                
<table border="0" cellpadding="10" cellspacing="0" width="100%">
<tr><td>
<p>&nbsp;</p>
&lt; <a href="../index.html">Sample Main Page</a>
<p>&nbsp;</p>

<h3>Introduction</h3>
<p>
<br>
This sample illustrates the use case where there are multiple 
federation protocols in one circle of trust. <br><br>In this sample, user will
create a circle of trust containing one multi-federation protocol Identity 
Provider instance and three Service Provider instances speaking ID-FF, SAMLv2
and WS-Federation protocol respectively.<br>
<br>
The sample demonstrates following scenarios among different federation protocols:
<br>
<ul>
  <li>SP initiated Single Sign On cross different federation protocols<br></li>
  <li>SP initiated Single Log out cross different federation protocols</li>
  <li>IDP initiated Single Log out cross different federation protocols</li>
</ul>
<br>

</p>
<h3>Setup</h3>
<br>
To run and test the sample, you need four OpenAM instances: <br>
<ul>
  <li>one instance configured as SAMLv2/ID-FF/WS-Federation Identity Providers</li>
  <li>one instance configured as SAMLv2 Service Provider. </li>
  <li>one instance configured as ID-FF Service Provider. </li>
  <li>one instance configured as WS-Federation Service Provider. </li>
</ul>
<br>
To configure this sample:
<ol>
<li>You must start the configuration from a Service Provider instance. Access the configure.jsp under the Service Provider instance, e.g. http://&lt;sp-host&gt;:&lt;port&gt;/&lt;uri&gt;/samples/multiprotocol/sp/configure.jsp. </li>
<li>Enter the remote Identity Provider information, including Federation Protocol, HTTP protocol, host name, port and deployment URI. Click "Configure" button to setup service provider side metadata.</li>
<li>Once the service provider side configuration is done, a link will be shown to redirect you to the IDP side configuration page. Click the "here" link in the message "Click here to configure remote Identity Provider", you will be redirected to Identity Provider side to setup corresponding metadata.</li>
<li>If you have not login to the Identity Provider yet, you will be prompted with a link to authenticate to the Identity Provider.</li> 
<li>Identity Provider will setup the required metadata information to establish the trust between the SP and IDP</li>
<li>After the configuration on identity provider side is completed, you will be redirected back to the service provider page.</li>
<li>Repeat step 1-6 on remaining two Service Provider instances by selecting different Federation protocol (e.g. SAMLv2, ID-FF and WS-Federation) at step 2.
</ol>
<br>
The configuration performs following tasks:
<ul>
<li>On service provider side, loads the meta data of the hosted service provider and remote identity provider.</li>
<li>On identity provider side, loads the meta data of the hosted identity provider and remote service provider.</li>
<li>On both service provider and identity provider side, creates a sample circle-of-trust named "samplemultiprotocolcot", and add the service provider and identity provider to the circle-of-trust.<br>
  </li>
</ul>
<br>
<p>
<p>
To configure this instance as a <b>Service Provider</b>,
click <a class="named" href="sp/configure.jsp">here</a>.
</p>
To view current configuration on the <b>Identity Provider</b>, click <a class="named" href="idp/configure.jsp">here</a>.
<p>
<br>
<h3>Demonstration</h3>

To try out the multi-federation protocol use cases, follow the <a class="named" href="demo/Readme.html">Readme.</a>

</td></tr></table>
<p><br>
</body>

